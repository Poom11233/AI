<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Lite Voice Chat</title>
<style>
body { font-family: Arial; background: #111; color:#fff; text-align:center; padding:20px; }
.container { max-width:600px; margin:auto; }
button { padding:12px 20px; font-size:18px; border:none; border-radius:8px; cursor:pointer; margin:10px; }
#askBtn{background:#0066ff;color:#fff;}
#speakBtn{background:#00cc66;color:#fff;}
#stopBtn{background:#ff4444;display:none;}
#answerBox{margin-top:20px; padding:15px; background:#222; border-radius:10px; min-height:60px;}
textarea { width:90%; padding:10px; font-size:16px; border-radius:8px; border:none; }
</style>
</head>
<body>
<div class="container">
<h2>AI Lite Voice Chat</h2>
<textarea id="questionInput" rows="3" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡πÑ‡∏°‡∏Ñ‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ñ‡∏≤‡∏°..."></textarea>
<br>
<button id="askBtn">‡∏ñ‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
<button id="speakBtn">üé§ ‡∏û‡∏π‡∏î‡∏ñ‡∏≤‡∏°</button>
<button id="stopBtn">‚õî ‡∏´‡∏¢‡∏∏‡∏î‡∏ü‡∏±‡∏á</button>
<div id="answerBox">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</div>
</div>

<script>
// ----- ‡∏£‡∏∞‡∏ö‡∏ö Pattern Matching -----
const QA = [
  { pattern: /‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ|‡πÑ‡∏á‡∏ö‡πâ‡∏≤‡∏á|hello/i, answer: ["‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö!", "‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ ‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡∏≠‡∏¢‡∏≤‡∏Å‡∏ñ‡∏≤‡∏°‡πÑ‡∏´‡∏°?"] },
  { pattern: /‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£|‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£/i, answer: ["‡∏ú‡∏°‡∏ä‡∏∑‡πà‡∏≠ AI Lite Chat", "‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ú‡∏°‡∏ß‡πà‡∏≤ AI Lite ‡∏Å‡πá‡πÑ‡∏î‡πâ"] },
  { pattern: /‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ/i, answer: ["‡∏ú‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏û‡∏π‡∏î‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ", "‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡∏ú‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ!"] },
  { pattern: /‡∏ß‡∏±‡∏ô‡∏≠‡∏∞‡πÑ‡∏£|‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà/i, answer: [() => new Date().toLocaleDateString("th-TH")] },
  { pattern: /‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ|‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏µ‡πà‡πÇ‡∏°‡∏á/i, answer: [() => new Date().toLocaleTimeString("th-TH")] },
  { pattern: /‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì|thanks/i, answer: ["‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö!", "‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏£‡∏Ñ‡∏£‡∏±‡∏ö"] }
  { pattern: /‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£‡∏°‡∏±‡πâ‡∏¢ |thanks/i, answer: ["‡πÉ‡∏ä‡πà‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£ (Samut Sakhon Technical College) ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏π‡∏ï‡∏£ ‡∏õ‡∏ß‡∏ä. (‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ô‡∏µ‡∏¢‡∏ö‡∏±‡∏ï‡∏£‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û) ‡πÅ‡∏•‡∏∞ ‡∏õ‡∏ß‡∏™. (‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ô‡∏µ‡∏¢‡∏ö‡∏±‡∏ï‡∏£‡∏ß‡∏¥‡∏ä‡∏≤‡∏ä‡∏µ‡∏û‡∏ä‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á) ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏ô ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏® ‡∏ä‡πà‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå ‡πÅ‡∏°‡∏Ñ‡∏Ñ‡∏≤‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå‡πÅ‡∏•‡∏∞‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏• ‡∏Ñ‡∏£‡∏±‡∏ö"] }
];

const defaultAnswers = ["‡∏Ç‡∏≠‡πÇ‡∏ó‡∏©‡∏Ñ‡∏£‡∏±‡∏ö ‡∏ú‡∏°‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ô‡∏µ‡πâ", "‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏≠‡∏∑‡πà‡∏ô‡∏î‡∏π‡∏™‡∏¥", "‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏Ñ‡∏£‡∏±‡∏ö ‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á"];

function answerQuestion(q){
  q = q.trim();
  let ans = defaultAnswers[Math.floor(Math.random()*defaultAnswers.length)];
  for(let i=0;i<QA.length;i++){
    if(q.match(QA[i].pattern)){
      const responses = QA[i].answer;
      ans = typeof responses[0]==="function" ? responses[0]() : responses[Math.floor(Math.random()*responses.length)];
      break;
    }
  }
  document.getElementById("answerBox").innerText = ans;
  speak(ans);
}

// ----- Text-to-Speech -----
function speak(text){
  const ut = new SpeechSynthesisUtterance(text);
  ut.lang="th-TH";
  speechSynthesis.speak(ut);
}

// ----- Speech-to-Text -----
let recognition;
if("webkitSpeechRecognition" in window){
  recognition = new webkitSpeechRecognition();
  recognition.lang="th-TH";
  recognition.continuous=false;
  recognition.onresult=(e)=>{
    const text = e.results[0][0].transcript;
    document.getElementById("questionInput").value=text;
    answerQuestion(text);
  }
  recognition.onend=()=>{
    document.getElementById("speakBtn").style.display="inline";
    document.getElementById("stopBtn").style.display="none";
  }
}else{
  alert("‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏ü‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á");
}

// ----- ‡∏õ‡∏∏‡πà‡∏° -----
document.getElementById("askBtn").onclick=()=>{
  const q = document.getElementById("questionInput").value;
  answerQuestion(q);
};
document.getElementById("speakBtn").onclick=()=>{
  recognition.start();
  document.getElementById("speakBtn").style.display="none";
  document.getElementById("stopBtn").style.display="inline";
};
document.getElementById("stopBtn").onclick=()=>recognition.stop();
</script>
</body>
</html>
